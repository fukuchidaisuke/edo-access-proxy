edo-access-proxy
===

edo-auth の TA 認証を通過するためのプロキシ。

プロキシリクエストを受け取ったら、プロキシ先とのセッションを確立してから、リクエストを転送する。

動作仕様
---

リクエストボディが指定されたサイズより大きい場合は、プロキシ先と必ず 2 回やり取りする。
1 回目はセッションの有効性確認またはセッションの開始依頼であり、ボディを付けずにプロキシ先に HEAD リクエストを送る。
2 回目にボディを含めたリクエストを転送する。

リクエストボディが指定サイズ以下の場合は 1 回目からボディを含むリクエストを転送するので、セッションが生きていれば 2 回目はない。

サイズの確認は、指定されたサイズまで実際にボディを読み込むことで行う。
